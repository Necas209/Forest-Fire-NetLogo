<pre><font color="#007f69">toupeiras-own</font><font color="#000000"> [elapsed-time health]<br /></font><font color="#007f69">planta-relvas-own</font><font color="#000000"> [stock]<br /></font><font color="#660096">breed</font><font color="#000000"> [planta-relvas planta-relva]<br /></font><font color="#660096">breed</font><font color="#000000"> [toupeiras toupeira]<br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  clean_field<br />  create-planta-relvas </font><font color="#963700">1</font><font color="#000000"> [<br />    </font><font color="#0000aa">if</font><font color="#000000"> Modo_de_Plantar </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Serpentina&quot;</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> ]<br />    </font><font color="#0000aa">if</font><font color="#000000"> Modo_de_Plantar </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Para a frente&quot;</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> [</font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"> </font><font color="#963700">180</font><font color="#000000"> </font><font color="#963700">270</font><font color="#000000">] ]<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2.5</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;agricultor&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> stock </font><font color="#660096">world-width</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">world-height</font><font color="#000000"> </font><font color="#5a5a5a">; o necessário para plantar o campo todo</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">create-turtles</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [<br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2.5</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;grass-restocker&quot;</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> plantar<br />  </font><font color="#0000aa">ask</font><font color="#000000"> planta-relvas [<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> stock<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br /><br />    </font><font color="#0000aa">if</font><font color="#000000"> Modo_de_Plantar </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Para a frente&quot;</font><font color="#000000"> [<br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> (</font><font color="#660096">any?</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000">]) [<br />        </font><font color="#0000aa">set</font><font color="#000000"> Modo_de_Plantar </font><font color="#963700">&quot;Manutenção&quot;</font><font color="#000000"><br />        </font><font color="#0000aa">stop</font><font color="#000000"><br />      ]<br /><br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> stock stock </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">patch-ahead</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> [ </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"> ]<br />      </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    ]<br /><br />    </font><font color="#0000aa">if</font><font color="#000000"> Modo_de_Plantar </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Serpentina&quot;</font><font color="#000000"> [<br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> (</font><font color="#660096">any?</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000">]) [<br />        </font><font color="#0000aa">set</font><font color="#000000"> Modo_de_Plantar </font><font color="#963700">&quot;Manutenção&quot;</font><font color="#000000"><br />        </font><font color="#0000aa">stop</font><font color="#000000"><br />      ]<br /><br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> stock stock </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br /><br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pxcor</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000"> [ </font><font color="#0000aa">stop</font><font color="#000000"> ]<br /><br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000"> [<br />        </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"><br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]<br />        </font><font color="#0000aa">set</font><font color="#000000"> stock stock </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"><br />      ]<br /><br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">180</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />        </font><font color="#0000aa">left</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"><br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]<br />        </font><font color="#0000aa">set</font><font color="#000000"> stock stock </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">left</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"><br />      ]<br /><br />      </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    ]<br /><br />    </font><font color="#0000aa">if</font><font color="#000000"> Modo_de_Plantar </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Manutenção&quot;</font><font color="#000000"> [<br />      </font><font color="#5a5a5a">; atividade das toupeiras</font><font color="#000000"><br />      </font><font color="#0000aa">ask</font><font color="#000000"> toupeiras [<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> health<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> elapsed-time elapsed-time </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br /><br />        </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> planta-relvas-here [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br /><br />        </font><font color="#0000aa">ifelse</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> [<br />            </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000"> ]<br /><br />            </font><font color="#0000aa">ifelse</font><font color="#000000"> health </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> health health </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000"> ]<br />            [ </font><font color="#0000aa">set</font><font color="#000000"> health </font><font color="#963700">100</font><font color="#000000"> ]<br />        ]<br />        [ </font><font color="#0000aa">set</font><font color="#000000"> health health </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]<br /><br />          </font><font color="#0000aa">if</font><font color="#000000"> health </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br /><br />        </font><font color="#0000aa">if</font><font color="#000000"> prob Prob_toupeira [<br />          </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> toupeiras-here </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> elapsed-time </font><font color="#660096">&gt;=</font><font color="#000000"> default-time [<br />            </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [<br />              </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />              </font><font color="#0000aa">set</font><font color="#000000"> elapsed-time </font><font color="#963700">0</font><font color="#000000"><br />            ]<br />            </font><font color="#0000aa">set</font><font color="#000000"> elapsed-time </font><font color="#963700">0</font><font color="#000000"><br />          ]<br /><br />          </font><font color="#0000aa">let</font><font color="#000000"> it </font><font color="#963700">0</font><font color="#000000"><br />          </font><font color="#0000aa">while</font><font color="#000000"> [it </font><font color="#660096">&lt;</font><font color="#000000"> max-iter </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000">(</font><font color="#660096">any?</font><font color="#000000"> toupeiras-on </font><font color="#660096">patch-ahead</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">)<br />            </font><font color="#660096">and</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">patch-ahead</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000">] [<br />            </font><font color="#0000aa">set</font><font color="#000000"> it it </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />            </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />          ]<br />          </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        ]<br />      ]<br />    </font><font color="#5a5a5a">; atividade do planta-relva</font><font color="#000000"><br /><br />      </font><font color="#0000aa">ask</font><font color="#000000"> toupeiras-here [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br /><br />      </font><font color="#0000aa">ifelse</font><font color="#000000"> stock </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />        </font><font color="#0000aa">facexy</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles-here</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">shape</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;grass-restocker&quot;</font><font color="#000000">] </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        [ </font><font color="#0000aa">set</font><font color="#000000"> stock </font><font color="#660096">int</font><font color="#000000"> (</font><font color="#660096">world-width</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">world-height</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">) ]<br />      ]<br />      [ </font><font color="#0000aa">if</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000"> [<br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"><br />          </font><font color="#0000aa">set</font><font color="#000000"> stock stock </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />        ]<br /><br />        </font><font color="#0000aa">let</font><font color="#000000"> it2 </font><font color="#963700">0</font><font color="#000000"><br />        </font><font color="#0000aa">while</font><font color="#000000"> [it2 </font><font color="#660096">&lt;</font><font color="#000000"> max-iter </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000">(</font><font color="#660096">any?</font><font color="#000000"> toupeiras-on </font><font color="#660096">patch-ahead</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">)<br />          </font><font color="#660096">and</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">patch-ahead</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">] [<br />          </font><font color="#0000aa">set</font><font color="#000000"> it2 it2 </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />        ]<br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />      ]<br />    ]<br />  ]<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> insere_toupeira<br />  create-toupeiras </font><font color="#963700">1</font><font color="#000000"> [<br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;toupeira&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">32</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> elapsed-time default-time<br />    </font><font color="#0000aa">set</font><font color="#000000"> health </font><font color="#963700">100</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to-report</font><font color="#000000"> prob[x]<br />  </font><font color="#0000aa">report</font><font color="#000000"> (</font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> x)<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> clean_field<br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000"> ]<br /></font><font color="#007f69">end</font>
</pre>
